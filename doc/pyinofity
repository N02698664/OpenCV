I want to use pyinotify to monitor my Samba share to run a Python script that uses OpenCV for processing picture files.

I used the information from these two sources to download, install, and test pyinotify.

https://github.com/seb-m/pyinotify/wiki
http://pyinotify.sourceforge.net/

Install Pyinotify

Make sure easy_install is installed:
 sudo apt-get install python-setuptools
Install pyinotify:
 sudo easy_install pyinotify
Check pyinotify is working alright
 python -m pyinotify -v /tmp  # This will run pyinotify and watch /tmp
 
This showed any files that were changing in the /tmp directory

I found an interesting shell script template for inotify - I think that I could modify it to my needs.

from: http://blog.lagentz.com/general/automate-your-shell-scripts-using-inotify-and-inotifywait/

#!/bin/bash
while true; do
 
inotifywait -e create /home/user/pdfs  && \
./watermark_all.sh
 
done

Inotifywait creates an inotify watch on the directory /home/user/pdfs (change to Samba folder or sub folder)
and waits until a file is created. In this event, inotifywait terminates and the 
./watermark_all.sh script from above will be executed.

use with pyinotify - not just inotify

I changed the script to call python monitor.py then moved the script to /etc/init.d/ and 
used chmod +x to the monitor.sh file.
update-rc.d monitor.sh defaults

from: http://www.stuffaboutcode.com/2012/06/raspberry-pi-run-program-at-start-up.html

convert to calling the python OpenCV program for facial recognition when a new file is created in the OpenCV directory
using the IN_CREATE eventcodes class.....
